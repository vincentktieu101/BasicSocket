<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script>
  </head>
  <body>
    <h2 id="message-0"></h2>
    <hr />
    <h2 id="message-1"></h2>
    <hr />
    <h2 id="message-2"></h2>
    <hr />
    <h2 id="message-3"></h2>
    <hr />
    <h2 id="message-4"></h2>
    <hr />
    <h2 id="message-5"></h2>
    <hr />
    <h2 id="message-6"></h2>
    <hr />
    <h2 id="message-7"></h2>
    <hr />
    <h2 id="message-8"></h2>
    <hr />
    <h2 id="message-9"></h2>
    <hr />
    <div>
      <label for="message">Type to Chat!</label>
      <input type="text" id="message"></input>
      <button onclick="sendMessage()">Send Button</button>
    </div>

    <script>
      const socket = io.connect("https://vincentktieu101chat.herokuapp.com/");

      socket.on("connection");

      const message = document.getElementById("message");
      
      message.addEventListener("keyup", function(event) {
        event.preventDefault();
        if (event.keyCode === 13) {
          sendMessage();
        }
      });

      const sendMessage = () => {
        if (message.value === "") {
          return;
        }
        socket.emit("message", message.value);
        message.value = "";
      };

      socket.on("messages", (messages) => {
        for (let i = 0; i < messages.length; i++) {
          document.getElementById(`message-${i}`).innerHTML = messages[i];
        }
      });
    </script>
  </body>
</html>